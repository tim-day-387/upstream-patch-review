<html lang="en">
<body>
<pre>
LU-0000 lfs: add mirror mode support for EC layouts

Add support for creating EC (Erasure Coding) layouts with
mirror mode (-N flag) in lfs setstripe. Previously, --ec
only worked in non-mirror mode.

Implementation:
- Modified add_ec_parity_components() to add EC parity
  components directly to the data mirror's layout using
  llapi_layout_comp_add_ec(), which automatically creates
  a new mirror within the same layout object
- Added m_has_ec flag to mirror_args structure to indicate
  that a layout already contains EC parity components
  (i.e., contains 2 mirrors: data + parity)
- Updated mirror count calculation in mirror_create() to
  multiply by 2 when m_has_ec is true, since each merge
  adds 2 mirrors (data + parity) instead of 1
- Skip standalone validation of layouts with EC parity,
  as they will be validated after merging in mirror_create()

User-facing behavior:
- lfs setstripe -N -E 128M -E -1 --ec 8+2 creates 2 mirrors
  (1 data + 1 parity) with 4 components total
- lfs setstripe -N2 -E 128M -E -1 --ec 8+2 creates 4 mirrors
  (2 data + 2 parity) with 8 components total
- Multiple data mirrors can each have their own EC config

Test-Parameters: trivial
Signed-off-by: Patrick Farrell <pfarrell@whamcloud.com>
Change-Id: I66ba351c3c68e978d4b9257091195366f44248df

</pre>
</body>
</html>
