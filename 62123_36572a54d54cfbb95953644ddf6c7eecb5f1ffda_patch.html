<html lang="en">
<body>
<pre>
LU-19543 hsm: fix HSM migrations with an empty file

Empty file has a 0 "data_version". This is intepreted by
mdd_swap_layout() as invalid, causing the HSM dirty flag to be set.

This patch introduces the SWAP_LAYOUTS_WITH_DV12 flag, signaling to
mdd_swap_layout() that both data_version parameters are valid.

Test-Parameters: testlist=sanity-hsm
Test-Parameters: testlist=sanity-hsm env=ONLY=607d,ONLY_REPEAT=20
Fixes: 94d02e5774 ("LU-13048 mdd: allow release after a non-blocking migrate")
Signed-off-by: Etienne AUJAMES <eaujames@ddn.com>
Change-Id: Iedcb3c9a1c1768b5c664f3253c12faa382bdd8a6

</pre>
</body>
</html>
