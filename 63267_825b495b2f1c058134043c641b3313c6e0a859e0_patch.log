LU-19761 osd-zfs: Build against ZFS 2.4.0

- Account for some DMU functions taking an extra flag argument.
- Have all ZFS autoconf macros run with _KERNEL defined so they take
  the kernel-space codepaths.

Signed-off-by: Tony Hutter <hutter2@llnl.gov>
Change-Id: Iabf1c940b47cbffb166c90b5db8356f80c2ef53e
