FAIL: /home/ktest/git/linux
Traceback (most recent call last):
  File "/home/ktest/git/linux/scripts/spdxcheck.py", line 352, in <module>
    repo = git.Repo(os.getcwd())
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/git/repo/base.py", line 267, in __init__
    raise InvalidGitRepositoryError(epath)
git.exc.InvalidGitRepositoryError: /home/ktest/git/linux

ERROR:CODE_INDENT: code indent should use tabs where possible
#27: FILE: lustre/include/lustre/lustreapi.h:593:
+^I                      char *fileset_name, bool alt, bool ro);$

ERROR:CODE_INDENT: code indent should use tabs where possible
#37: FILE: lustre/include/lustre/lustreapi.h:603:
+^I^I         char *value, char *delimiter);$

WARNING:FILE_PATH_CHANGES: added, moved or deleted file(s), does MAINTAINERS need updating?
#78: 
new file mode 100644

WARNING:LINE_SPACING: Missing a blank line after declarations
#168: FILE: lustre/tests/llapi_nodemap_test.c:86:
+	int rc = llapi_get_mgs_device(mgs_device);
+	return rc >= 0;

WARNING:LINE_SPACING: Missing a blank line after declarations
#174: FILE: lustre/tests/llapi_nodemap_test.c:92:
+	int rc = llapi_get_mds_device(mds_device);
+	return rc >= 0;

WARNING:LINE_SPACING: Missing a blank line after declarations
#180: FILE: lustre/tests/llapi_nodemap_test.c:98:
+	int rc = llapi_get_oss_device(oss_device);
+	return rc >= 0;

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#349: FILE: lustre/tests/llapi_nodemap_test.c:267:
+		strcpy(arg_buf, "nodemap_del");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#354: FILE: lustre/tests/llapi_nodemap_test.c:272:
+	strcpy(arg_buf, "nodemap_add");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#365: FILE: lustre/tests/llapi_nodemap_test.c:283:
+	strcpy(arg_buf, "nodemap_del");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#388: FILE: lustre/tests/llapi_nodemap_test.c:306:
+	strcpy(arg_buf, "nodemap_add");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#393: FILE: lustre/tests/llapi_nodemap_test.c:311:
+	strcpy(arg_buf, "nodemap_modify");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#399: FILE: lustre/tests/llapi_nodemap_test.c:317:
+	strcpy(arg_buf, "nodemap_modify");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#405: FILE: lustre/tests/llapi_nodemap_test.c:323:
+	strcpy(arg_buf, "nodemap_del");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#423: FILE: lustre/tests/llapi_nodemap_test.c:341:
+	strcpy(arg_buf, "nodemap_add");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#428: FILE: lustre/tests/llapi_nodemap_test.c:346:
+	strcpy(arg_buf, "nodemap_add_range");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#434: FILE: lustre/tests/llapi_nodemap_test.c:352:
+	strcpy(arg_buf, "nodemap_del_range");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#440: FILE: lustre/tests/llapi_nodemap_test.c:358:
+	strcpy(arg_buf, "nodemap_del");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#458: FILE: lustre/tests/llapi_nodemap_test.c:376:
+	strcpy(arg_buf, "nodemap_add");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#463: FILE: lustre/tests/llapi_nodemap_test.c:381:
+	strcpy(arg_buf, "nodemap_add_idmap");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#469: FILE: lustre/tests/llapi_nodemap_test.c:387:
+	strcpy(arg_buf, "nodemap_add_idmap");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#475: FILE: lustre/tests/llapi_nodemap_test.c:393:
+	strcpy(arg_buf, "nodemap_del_idmap");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#481: FILE: lustre/tests/llapi_nodemap_test.c:399:
+	strcpy(arg_buf, "nodemap_del_idmap");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#487: FILE: lustre/tests/llapi_nodemap_test.c:405:
+	strcpy(arg_buf, "nodemap_del");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#505: FILE: lustre/tests/llapi_nodemap_test.c:423:
+	strcpy(arg_buf, "nodemap_add");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#510: FILE: lustre/tests/llapi_nodemap_test.c:428:
+	strcpy(arg_buf, "nodemap_set_fileset");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#516: FILE: lustre/tests/llapi_nodemap_test.c:434:
+	strcpy(arg_buf, "nodemap_set_fileset");

WARNING:STRCPY: Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#522: FILE: lustre/tests/llapi_nodemap_test.c:440:
+	strcpy(arg_buf, "nodemap_del");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'llapi_name2dev', this function's name, in a string
#943: FILE: lustre/utils/liblustreapi_nodemap.c:309:
+		fprintf(stderr, "error: llapi_name2dev: invalid ioctl\n");

WARNING:EMBEDDED_FUNCTION_NAME: Prefer using '"%s...", __func__' to using 'llapi_name2dev', this function's name, in a string
#954: FILE: lustre/utils/liblustreapi_nodemap.c:320:
+		fprintf(stderr, "error: llapi_name2dev: invalid reply\n");

WARNING:BRACES: braces {} are not necessary for single statement blocks
#1281: FILE: lustre/utils/liblustreapi_nodemap.c:647:
+	if (!nid) {
+		return CMD_HELP;
+	}

WARNING:STRNCPY: Prefer strscpy, strscpy_pad, or __nonstring over strncpy - see: https://github.com/KSPP/linux/issues/90
#1338: FILE: lustre/utils/liblustreapi_nodemap.c:704:
+		strncpy(nid_range, nodemap_range, range_len);

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1533: FILE: lustre/utils/liblustreapi_nodemap.c:899:
+#if LUSTRE_VERSION_CODE > OBD_OCD_VERSION(2, 17, 52, 0)

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#1650: FILE: lustre/utils/liblustreapi_nodemap.c:1016:
+	if (alt) {
[...]
+	} else if (primary) {
[...]

WARNING:BRACES: braces {} are not necessary for any arm of this statement
#1656: FILE: lustre/utils/liblustreapi_nodemap.c:1022:
+	if (rw) {
[...]
+	} else if (ro) {
[...]

WARNING:LONG_LINE: line length of 102 exceeds 100 columns
#1869: FILE: lustre/utils/liblustreapi_nodemap.c:1235:
+int llapi_nodemap_modify(char *arg_buf, char *nodemap_name, char *param, char *value, char *delimiter)

ERROR:TRAILING_WHITESPACE: trailing whitespace
#2227: FILE: lustre/utils/obd.c:1:
+ $

WARNING:SPDX_LICENSE_TAG: Missing or malformed SPDX-License-Identifier tag in line 1
#2227: FILE: lustre/utils/obd.c:1:
+ 

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2227: FILE: lustre/utils/obd.c:1:
+ $

ERROR:CODE_INDENT: code indent should use tabs where possible
#2624: FILE: lustre/utils/obd.c:3942:
+        return llapi_nodemap_del(argv[0], nodemap_name);$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2624: FILE: lustre/utils/obd.c:3942:
+        return llapi_nodemap_del(argv[0], nodemap_name);$

total: 4 errors, 36 warnings, 3426 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

Your patch has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
