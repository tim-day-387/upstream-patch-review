<html lang="en">
<body>
<pre>
LU-17671 libcfs: track each OBD_ALLOC()

and dump leaked ones when a module is being unloaded.
if a leak is found upon module exit, then a message like this is printed:
[   65.562724] LEAKED 64 in 2 at /home/lustre/head1/lustre/osd-ldiskfs/osd_handler.c:8621
[   70.314614] LustreError: 8305:0:(class_obd.c:992:obdclass_exit()) obd_memory max: 248443803, leaked: 64
[   70.314974] LustreError: 8305:0:(class_obd.c:998:obdclass_exit()) ASSERTION( atomic_read(&obdclass_leaks_detected) == 0 ) failed:

Test-Parameters: fortestonly
Signed-off-by: Alex Zhuravlev <bzzz@whamcloud.com>
Change-Id: Ia499928bde821cc3a6b558a175b0e279bdfc68fa

</pre>
</body>
</html>
