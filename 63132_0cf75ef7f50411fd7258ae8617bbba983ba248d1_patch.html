<html lang="en">
<body>
<pre>
LU-19721 llite: multiple lock cb enter into held invalidate_lock

Allow multiple lock blocking callbacks from multiple threads and
different OSC objects enter into the critical section of write
@invalidate_lock of the inode mapping to discard pages in
parallel.
This means once a thread from the context of lock blocking AST
held the @invalidate_lock, all other BAST thread can enter into
the critical section simultaneously to discard pages in parallel.

This can avoid the possible BAST timeout and client evictiond as
in the old way the exclusive wirte lock @invalidate_lock makes
the BAST threads perform serially and this increases the overall
delay of BAST from multiple stripes.

Add sanityn/test_122.

Fixes: 56e59cbb11d8 ("LU-19427 llite: fix invalidate_lock deadlock for mixed BIO/DIO")
Signed-off-by: Yingjin Qian <qian@ddn.com>
Change-Id: I70a88fcf895e1f313f6a5ded204fa5d6750bba70

</pre>
</body>
</html>
