<html lang="en">
<body>
<pre>
LU-17515 lnet: adapt conns_per_peer using lustre_expected_clients

Use lustre_expected_clients as a hint to calculate the initial
socklnd conns_per_peer value. This helps avoid creating too many
TCP connections in large clusters.

The calculated value limits the total number of peer connections to a
safe range and clamps it to valid socklnd limits. For small clusters,
this allows more connections per peer, while for large clusters it
reduces connections to prevent overload.

Change-Id: I4427677d7aa3c9e7c9cffe321acfd64bf42766aa
Signed-off-by: Chakshu Kansal <ckansal@ddn.com>

</pre>
</body>
</html>
