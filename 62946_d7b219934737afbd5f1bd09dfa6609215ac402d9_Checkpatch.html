<html lang="en">
<body>
<pre>
Traceback (most recent call last):
  File "/home/ktest/git/linux/scripts/spdxcheck.py", line 6, in <module>
    from ply import lex, yacc
ModuleNotFoundError: No module named 'ply'
[33mWARNING:[34mFILE_PATH_CHANGES:[0m added, moved or deleted file(s), does MAINTAINERS need updating?
#2: 
new file mode 100644

[33mWARNING:[34mBRACES:[0m braces {} are not necessary for any arm of this statement
#393: FILE: lustre/utils/liblustreapi.c:6643:
+	if (param->fp_thread_count) {
[...]
+	} else {
[...]

[33mWARNING:[34mEMBEDDED_FILENAME:[0m It's generally not useful to have the filename in the file
#492: FILE: lustre/utils/ltrash_purge.c:10:
+ * lustre/utils/ltrash_purge.c

[31mERROR:[34mINITIALISED_STATIC:[0m do not initialise statics to 0
#624: FILE: lustre/utils/ltrash_purge.c:142:
+static atomic_int deletions_count = 0;

[31mERROR:[34mINITIALISED_STATIC:[0m do not initialise statics to false
#625: FILE: lustre/utils/ltrash_purge.c:143:
+static atomic_bool stop_scan = false;

[33mWARNING:[34mSPLIT_STRING:[0m quoted string split across lines
#702: FILE: lustre/utils/ltrash_purge.c:220:
+		     "Trash can usage on projid %u:"
+		     " - blocks %llu inodes %llu\n",

[33mWARNING:[34mSPLIT_STRING:[0m quoted string split across lines
#790: FILE: lustre/utils/ltrash_purge.c:308:
+			     " - blocks=%lu, free=%lu, avail=%lu,"
+			     " files=%lu, ffree=%lu\n"

[33mWARNING:[34mBLOCK_COMMENT_STYLE:[0m Block comments use a trailing */ on a separate line
#1018: FILE: lustre/utils/ltrash_purge.c:536:
+		 * special entries in trash. Skip silently. */

[31mERROR:[34mTRAILING_WHITESPACE:[0m trailing whitespace
#1032: FILE: lustre/utils/ltrash_purge.c:550:
+^I^Igoto out; $

[33mWARNING:[34mSPLIT_STRING:[0m quoted string split across lines
#1052: FILE: lustre/utils/ltrash_purge.c:570:
+				     "Usage below high watermark "
+				     "(MDT: %.1f%%, OST: %.1f%%) and no "

[33mWARNING:[34mSPLIT_STRING:[0m quoted string split across lines
#1053: FILE: lustre/utils/ltrash_purge.c:571:
+				     "(MDT: %.1f%%, OST: %.1f%%) and no "
+				     "mandatory deletes, stopping scan\n",

[33mWARNING:[34mBLOCK_COMMENT_STYLE:[0m Block comments use a trailing */ on a separate line
#1142: FILE: lustre/utils/ltrash_purge.c:660:
+		 * special entries in trash. Skip silently. */

[31mERROR:[34mTRAILING_WHITESPACE:[0m trailing whitespace
#1156: FILE: lustre/utils/ltrash_purge.c:674:
+^I^Igoto out; $

[33mWARNING:[34mSPLIT_STRING:[0m quoted string split across lines
#1286: FILE: lustre/utils/ltrash_purge.c:804:
+		     "\ - scanned %lu objs, purged %lu objs, freed %lu bytes, "
+		     "work rate %.2f objs/sec\n\n",

[33mWARNING:[34mUNNECESSARY_ELSE:[0m else is not generally useful after a break or return
#1327: FILE: lustre/utils/ltrash_purge.c:845:
+				break;
+			} else {

[33mWARNING:[34mSPLIT_STRING:[0m quoted string split across lines
#1330: FILE: lustre/utils/ltrash_purge.c:848:
+					     "MDT/OST usage is high, "
+					     "but Trash Can is empty, so "

[33mWARNING:[34mSPLIT_STRING:[0m quoted string split across lines
#1331: FILE: lustre/utils/ltrash_purge.c:849:
+					     "but Trash Can is empty, so "
+					     "skip purge.\n");

[33mWARNING:[34mEMBEDDED_FUNCTION_NAME:[0m Prefer using '"%s...", __func__' to using 'usage', this function's name, in a string
#1452: FILE: lustre/utils/ltrash_purge.c:970:
+		"\t-m, --mdt-usage=NUM, %% of MDT space to start purging (default: %u)\n"

[33mWARNING:[34mEMBEDDED_FUNCTION_NAME:[0m Prefer using '"%s...", __func__' to using 'usage', this function's name, in a string
#1454: FILE: lustre/utils/ltrash_purge.c:972:
+		"\t-o, --ost-usage=NUM, %% of OST space to start purging (default: %u)\n"

[33mWARNING:[34mSTRCPY:[0m Prefer strscpy over strcpy - see: https://github.com/KSPP/linux/issues/88
#1616: FILE: lustre/utils/ltrash_purge.c:1134:
+	strcpy(buf, str);

[33mWARNING:[34mSPLIT_STRING:[0m quoted string split across lines
#1751: FILE: lustre/utils/ltrash_purge.c:1269:
+				     "Empty Trash Can mode enabled, "
+				     "all the filters are ignored\n");

[33mWARNING:[34mSPLIT_STRING:[0m quoted string split across lines
#1851: FILE: lustre/utils/ltrash_purge.c:1369:
+			    "Lustre mount point must be specified either as "
+			    "positional argument or in config file");

[33mWARNING:[34mBLOCK_COMMENT_STYLE:[0m Block comments use a trailing */ on a separate line
#1935: FILE: lustre/utils/ltrash_purge.c:1453:
+	 * and it will be released when the process exits. */

total: 4 errors, 19 warnings, 1955 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

Your patch has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
</pre>
</body>
</html>
