ERROR:SPACING: space prohibited after that open parenthesis '('
#153: FILE: lnet/include/lnet/lib-types.h:222:
+	DECLARE_BITMAP(	 spi_hole_bitmap, LNET_MAX_IOV);  /* List of holes */

ERROR:SPACING: space prohibited after that open parenthesis '('
#155: FILE: lnet/include/lnet/lib-types.h:224:
+	DECLARE_BITMAP(	 spi_client_hole_bitmap, LNET_MAX_IOV);

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#162: FILE: lnet/include/lnet/lib-types.h:231:
+	 * to hole-aware read optimization */

ERROR:SPACING: space prohibited after that open parenthesis '('
#164: FILE: lnet/include/lnet/lib-types.h:233:
+	DECLARE_BITMAP(	 spl_hole_bitmap, LNET_MAX_IOV);

WARNING:TYPO_SPELLING: 'substract' may be misspelled - perhaps 'subtract'?
#805: FILE: lnet/lnet/lib-msg.c:984:
+		 * substract it in hole_length to be okay later in
 		   ^^^^^^^^^

WARNING:QUOTED_WHITESPACE_BEFORE_NEWLINE: unnecessary whitespace before a quoted newline
#903: FILE: lnet/lnet/lib-msg.c:1215:
+			CDEBUG(D_NET, "Only holes %d, msg %p, md %p, \n",

WARNING:CONSTANT_COMPARISON: Comparisons should place the constant on the right side of the test
#1004: FILE: lnet/lnet/net_fault.c:1198:
+	BUILD_BUG_ON(LNET_SPUT_BIT != BIT(LNET_MSG_PUT_SPARSE));

WARNING:LONG_LINE_STRING: line length of 102 exceeds 100 columns
#1438: FILE: lustre/ptlrpc/pack_generic.c:1074:
+				CWARN("Threshold not a multiple of page size, value is rounded up\n");

WARNING:VSPRINTF_SPECIFIER_PX: Using vsprintf specifier '%px' potentially exposes the kernel memory layout, if you don't really need the address please consider using '%p'.
#1467: FILE: lustre/ptlrpc/pack_generic.c:1525:
+		LASSERTF(pb, "invalid msg %px: no ptlrpc body!\n", msg);

WARNING:LINE_SPACING: Missing a blank line after declarations
#1567: FILE: lustre/ptlrpc/pers.c:98:
+		unsigned int client_niov;
+		bitmap_shift_trunc_right(

WARNING:LINE_SPACING: Missing a blank line after declarations
#1580: FILE: lustre/ptlrpc/pers.c:111:
+			int ci, si;
+			client_niov = (md->umd_length+r-1)/r;

WARNING:LINE_SPACING: Missing a blank line after declarations
#1585: FILE: lustre/ptlrpc/pers.c:116:
+				bool sparse = true, control = false;
+				for (si = ci*r; si < (ci+1)*r; si++) {

WARNING:BLOCK_COMMENT_STYLE: Block comments use a trailing */ on a separate line
#1595: FILE: lustre/ptlrpc/pers.c:126:
+				 * */

WARNING:LINE_SPACING: Missing a blank line after declarations
#1612: FILE: lustre/ptlrpc/pers.c:143:
+			int i;
+			r = PAGE_SIZE/desc->bd_client_ps;

WARNING:LONG_LINE_STRING: line length of 102 exceeds 100 columns
#1675: FILE: lustre/ptlrpc/wiretest.c:892:
+	LASSERTF((int)sizeof(((struct ptlrpc_body_v3 *)0)->pb_sro_threshold_4kb) == 2, "found %lld\n",

WARNING:LONG_LINE: line length of 152 exceeds 100 columns
#1688: FILE: lustre/ptlrpc/wiretest.c:992:
+	LASSERTF((int)offsetof(struct ptlrpc_body_v3, pb_sro_threshold_4kb) == (int)offsetof(struct ptlrpc_body_v2, pb_sro_threshold_4kb), "%d != %d\n",

WARNING:LONG_LINE: line length of 137 exceeds 100 columns
#1689: FILE: lustre/ptlrpc/wiretest.c:993:
+		 (int)offsetof(struct ptlrpc_body_v3, pb_sro_threshold_4kb), (int)offsetof(struct ptlrpc_body_v2, pb_sro_threshold_4kb));

WARNING:LONG_LINE: line length of 162 exceeds 100 columns
#1690: FILE: lustre/ptlrpc/wiretest.c:994:
+	LASSERTF((int)sizeof(((struct ptlrpc_body_v3 *)0)->pb_sro_threshold_4kb) == (int)sizeof(((struct ptlrpc_body_v2 *)0)->pb_sro_threshold_4kb), "%d != %d\n",

WARNING:LONG_LINE: line length of 147 exceeds 100 columns
#1691: FILE: lustre/ptlrpc/wiretest.c:995:
+		 (int)sizeof(((struct ptlrpc_body_v3 *)0)->pb_sro_threshold_4kb), (int)sizeof(((struct ptlrpc_body_v2 *)0)->pb_sro_threshold_4kb));

WARNING:LONG_LINE_STRING: line length of 118 exceeds 100 columns
#2143: FILE: lustre/utils/portals.c:2863:
+		printf("%s->%s (1/%d | %d) ptl %#jx, msg %x, %ju/%ju, PUT %ju, SPUT %ju, ACK %ju, GET %ju, REP %ju\n",

WARNING:LONG_LINE_STRING: line length of 130 exceeds 100 columns
#2157: FILE: lustre/utils/portals.c:2876:
+		printf("%s->%s (1/%d | %d, latency %d) ptl %#jx, msg %x, %ju/%ju, PUT %ju, ACK %ju, GET %ju, REP %ju, SPUT %ju\n",

WARNING:LONG_LINE_STRING: line length of 102 exceeds 100 columns
#2207: FILE: lustre/utils/wiretest.c:915:
+	LASSERTF((int)sizeof(((struct ptlrpc_body_v3 *)0)->pb_sro_threshold_4kb) == 2, "found %lld\n",

WARNING:LONG_LINE: line length of 152 exceeds 100 columns
#2220: FILE: lustre/utils/wiretest.c:1015:
+	LASSERTF((int)offsetof(struct ptlrpc_body_v3, pb_sro_threshold_4kb) == (int)offsetof(struct ptlrpc_body_v2, pb_sro_threshold_4kb), "%d != %d\n",

WARNING:LONG_LINE: line length of 137 exceeds 100 columns
#2221: FILE: lustre/utils/wiretest.c:1016:
+		 (int)offsetof(struct ptlrpc_body_v3, pb_sro_threshold_4kb), (int)offsetof(struct ptlrpc_body_v2, pb_sro_threshold_4kb));

WARNING:LONG_LINE: line length of 162 exceeds 100 columns
#2222: FILE: lustre/utils/wiretest.c:1017:
+	LASSERTF((int)sizeof(((struct ptlrpc_body_v3 *)0)->pb_sro_threshold_4kb) == (int)sizeof(((struct ptlrpc_body_v2 *)0)->pb_sro_threshold_4kb), "%d != %d\n",

WARNING:LONG_LINE: line length of 147 exceeds 100 columns
#2223: FILE: lustre/utils/wiretest.c:1018:
+		 (int)sizeof(((struct ptlrpc_body_v3 *)0)->pb_sro_threshold_4kb), (int)sizeof(((struct ptlrpc_body_v2 *)0)->pb_sro_threshold_4kb));

ERROR:CODE_INDENT: code indent should use tabs where possible
#2234: FILE: lustre/utils/wiretest.c:1222:
+                 (long long)(int)offsetof(struct obd_connect_data, padding0));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2234: FILE: lustre/utils/wiretest.c:1222:
+                 (long long)(int)offsetof(struct obd_connect_data, padding0));$

ERROR:CODE_INDENT: code indent should use tabs where possible
#2235: FILE: lustre/utils/wiretest.c:1223:
+        LASSERTF((int)sizeof(((struct obd_connect_data *)0)->padding0) == 1, "found %lld\n",$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2235: FILE: lustre/utils/wiretest.c:1223:
+        LASSERTF((int)sizeof(((struct obd_connect_data *)0)->padding0) == 1, "found %lld\n",$

ERROR:CODE_INDENT: code indent should use tabs where possible
#2236: FILE: lustre/utils/wiretest.c:1224:
+                 (long long)(int)sizeof(((struct obd_connect_data *)0)->padding0));$

WARNING:LEADING_SPACE: please, no spaces at the start of a line
#2236: FILE: lustre/utils/wiretest.c:1224:
+                 (long long)(int)sizeof(((struct obd_connect_data *)0)->padding0));$

total: 6 errors, 26 warnings, 1975 lines checked

NOTE: For some of the reported defects, checkpatch may be able to
      mechanically convert to the typical style using --fix or --fix-inplace.

NOTE: Whitespace errors detected.
      You may wish to use scripts/cleanpatch or scripts/cleanfile

Your patch has style problems, please review.

NOTE: If any of the errors are false positives, please report
      them to the maintainer, see CHECKPATCH in MAINTAINERS.
